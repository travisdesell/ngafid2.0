<html>
<head>
    <title>The National General Aviation Flight Information Database (NGAFID)</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <link rel='stylesheet' href='/css/main.css'>
    <link rel='stylesheet' href='/css/font-awesome.min.css'>

    <link rel="stylesheet" href="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.2.0/css/ol.css" type="text/css">

    <script>
        var plotMapHidden = false;
        {{{navbar_js}}}
        {{{ttf_js}}}

        function onFetchClicked() {
            var startDateElement = document.getElementById("start");
            var endDateElement = document.getElementById("end");

            var submissionData = { startDate: startDateElement.value, endDate: endDateElement.value };

            $.ajax({
                type: 'POST',
                url: '/protected/ttf',
                data : submissionData,
                dataType : 'json',
                success : function(response) {
                    console.log("received response: ");
                    console.log(response);
                },
                error : function(jqXHR, textStatus, errorThrown) {
                    console.log(textStatus);
                    console.log(textStatus);
                    console.log(textStatus);

                },
                async: true
             });
        }
    </script>

</head>
<body>
<div id='navbar'></div>

<div id="loading" style="display:none">
    <img id="loading-image" src="/images/ajax-loader.gif" alt="Loading..." />
</div>

<div id="error-modal" class='modal' tabIndex='-1' role='dialog'>
    <div class='modal-dialog modal-lg' role='document'>
        <div id='error-modal-content'>
        </div>
    </div>
</div>

<div id="plot-map-div" class='row m-0' style="width:100%; height:0%;">
    <div id="map" class="map" style="width:50%; display:none;">
    </div> <div id="plot" style="width:50%; display:none;"></div>
</div>

<div id="area" class="jumbotron">
    <label for="start">Start date:</label>

    <input type="date" id="start" name="date-start"
           value="2000-01-01"
           min="2000-01-01" max="3000-12-31">

    <label for="start">End date:</label>

    <input type="date" id="end" name="date-end"
           value="2020-01-01"
           min="2000-01-01" max="3000-12-31">

    <button onclick="onFetchClicked()">Fetch</button>
</div>

<!-- Load our javascript. -->

<script src="/js/ttf-bundle.js"></script>

</body>
</html>
