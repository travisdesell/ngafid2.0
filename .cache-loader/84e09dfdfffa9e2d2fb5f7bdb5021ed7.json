{"remainingRequest":"/ngafid/ngafid2.0/node_modules/babel-loader/lib/index.js??ruleSet[1].rules[0].use[1]!/ngafid/ngafid2.0/src/main/javascript/imports.js","dependencies":[{"path":"/ngafid/ngafid2.0/src/main/javascript/imports.js","mtime":1666016693590},{"path":"/ngafid/ngafid2.0/.babelrc","mtime":1664810261182},{"path":"/ngafid/ngafid2.0/node_modules/cache-loader/dist/cjs.js","mtime":1664910647113},{"path":"/ngafid/ngafid2.0/node_modules/babel-loader/lib/index.js","mtime":1664910647213}],"contextDependencies":[],"result":["function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport 'bootstrap';\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport { errorModal } from \"./error_modal.js\";\nimport SignedInNavbar from \"./signed_in_navbar.js\";\nimport { Paginator } from \"./paginator_component.js\";\n\nvar FlightWarning = /*#__PURE__*/function (_React$Component) {\n  _inherits(FlightWarning, _React$Component);\n\n  var _super = _createSuper(FlightWarning);\n\n  function FlightWarning(props) {\n    _classCallCheck(this, FlightWarning);\n\n    return _super.call(this, props);\n  }\n\n  _createClass(FlightWarning, [{\n    key: \"render\",\n    value: function render() {\n      var warning = this.props.warning;\n      var styleName = {\n        flex: \"0 0 25em\"\n      };\n      var filenameClasses = \"p-1 mr-1 card border-warning text-warning\";\n      var filenameText = warning.filename;\n\n      if (warning.sameFilename) {\n        filenameClasses = \"p-1 mr-1\";\n        filenameText = \"\";\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-row p-0 mt-1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: filenameClasses,\n        style: styleName\n      }, filenameText), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-1 card border-warning text-warning flex-fill\"\n      }, warning.message));\n    }\n  }]);\n\n  return FlightWarning;\n}(React.Component);\n\nvar FlightWarnings = /*#__PURE__*/function (_React$Component2) {\n  _inherits(FlightWarnings, _React$Component2);\n\n  var _super2 = _createSuper(FlightWarnings);\n\n  function FlightWarnings(props) {\n    _classCallCheck(this, FlightWarnings);\n\n    return _super2.call(this, props);\n  }\n\n  _createClass(FlightWarnings, [{\n    key: \"render\",\n    value: function render() {\n      var flightWarnings = this.props.flightWarnings;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"m-0\"\n      }, flightWarnings.map(function (warning, index) {\n        return /*#__PURE__*/React.createElement(FlightWarning, {\n          warning: warning,\n          key: warning.id\n        });\n      }));\n    }\n  }]);\n\n  return FlightWarnings;\n}(React.Component);\n\nvar FlightError = /*#__PURE__*/function (_React$Component3) {\n  _inherits(FlightError, _React$Component3);\n\n  var _super3 = _createSuper(FlightError);\n\n  function FlightError(props) {\n    _classCallCheck(this, FlightError);\n\n    return _super3.call(this, props);\n  }\n\n  _createClass(FlightError, [{\n    key: \"render\",\n    value: function render() {\n      var error = this.props.error;\n      var styleName = {\n        flex: \"0 0 25em\"\n      };\n      var filenameClasses = \"p-1 mr-1 card border-danger text-danger\";\n      var filenameText = error.filename;\n\n      if (error.sameFilename) {\n        filenameClasses = \"p-1 mr-1\";\n        filenameText = \"\";\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-row p-0 mt-1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: filenameClasses,\n        style: styleName\n      }, filenameText), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-1 card border-danger text-danger flex-fill\"\n      }, error.message));\n    }\n  }]);\n\n  return FlightError;\n}(React.Component);\n\nvar FlightErrors = /*#__PURE__*/function (_React$Component4) {\n  _inherits(FlightErrors, _React$Component4);\n\n  var _super4 = _createSuper(FlightErrors);\n\n  function FlightErrors(props) {\n    _classCallCheck(this, FlightErrors);\n\n    return _super4.call(this, props);\n  }\n\n  _createClass(FlightErrors, [{\n    key: \"render\",\n    value: function render() {\n      var flightErrors = this.props.flightErrors;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"m-0\"\n      }, flightErrors.map(function (error, index) {\n        return /*#__PURE__*/React.createElement(FlightError, {\n          error: error,\n          key: error.id\n        });\n      }));\n    }\n  }]);\n\n  return FlightErrors;\n}(React.Component);\n\nvar UploadError = /*#__PURE__*/function (_React$Component5) {\n  _inherits(UploadError, _React$Component5);\n\n  var _super5 = _createSuper(UploadError);\n\n  function UploadError(props) {\n    _classCallCheck(this, UploadError);\n\n    return _super5.call(this, props);\n  }\n\n  _createClass(UploadError, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-row card p-1 border-danger text-danger\"\n      }, this.props.error.message);\n    }\n  }]);\n\n  return UploadError;\n}(React.Component);\n\nvar UploadErrors = /*#__PURE__*/function (_React$Component6) {\n  _inherits(UploadErrors, _React$Component6);\n\n  var _super6 = _createSuper(UploadErrors);\n\n  function UploadErrors(props) {\n    _classCallCheck(this, UploadErrors);\n\n    return _super6.call(this, props);\n  }\n\n  _createClass(UploadErrors, [{\n    key: \"render\",\n    value: function render() {\n      var uploadErrors = this.props.uploadErrors;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"m-0 mt-1\"\n      }, uploadErrors.map(function (error, index) {\n        return /*#__PURE__*/React.createElement(UploadError, {\n          error: error,\n          key: error.id\n        });\n      }));\n    }\n  }]);\n\n  return UploadErrors;\n}(React.Component);\n\nvar Import = /*#__PURE__*/function (_React$Component7) {\n  _inherits(Import, _React$Component7);\n\n  var _super7 = _createSuper(Import);\n\n  function Import(props) {\n    var _this;\n\n    _classCallCheck(this, Import);\n\n    _this = _super7.call(this, props);\n    var uploadErrors = props.uploadErrors;\n    if (uploadErrors == undefined) uploadErrors = [];\n    var flightWarnings = props.flightWarnings;\n    if (flightWarnings == undefined) flightWarnings = [];\n    var flightErrors = props.flightErrors;\n    if (flightErrors == undefined) flightErrors = [];\n    _this.state = {\n      expanded: false,\n      loaded: false,\n      uploadErrors: uploadErrors,\n      flightWarnings: flightWarnings,\n      flightErrors: flightErrors\n    };\n    return _this;\n  }\n\n  _createClass(Import, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {//console.log(\"import did mount for filename: '\" + this.props.importInfo.filename + \"'\");\n    }\n  }, {\n    key: \"expandClicked\",\n    value: function expandClicked() {\n      var thisImport = this;\n      var submissionData = {\n        uploadId: this.props.importInfo.id\n      };\n\n      if (this.state.loaded) {\n        console.log(\"not fetching import information from the server, already loaded.\");\n        thisImport.state.expanded = !thisImport.state.expanded;\n        thisImport.setState(thisImport.state);\n      } else {\n        console.log(\"fetching import information from the server.\");\n        $.ajax({\n          type: 'POST',\n          url: '/protected/upload_details',\n          data: submissionData,\n          dataType: 'json',\n          success: function success(response) {\n            console.log(\"received response: \");\n            console.log(response);\n\n            if (response.errorTitle !== undefined) {\n              errorModal.show(response.errorTitle, response.errorMessage);\n            } else {\n              thisImport.state.loaded = true;\n              thisImport.state.expanded = !thisImport.state.expanded;\n              console.log(\"expand clicked, now:\" + thisImport.state.expanded);\n              thisImport.state.uploadErrors = response.uploadErrors;\n              thisImport.state.flightWarnings = response.flightWarnings;\n              thisImport.state.flightErrors = response.flightErrors;\n              thisImport.setState(thisImport.state);\n            }\n          },\n          error: function error(jqXHR, textStatus, errorThrown) {\n            errorModal.show(\"Error Loading Uploads\", errorThrown);\n          },\n          async: true\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var expanded = this.state.expanded;\n      var uploadErrors = this.state.uploadErrors;\n      var flightWarnings = this.state.flightWarnings;\n      var flightErrors = this.state.flightErrors;\n\n      for (var i = 1; i < flightWarnings.length; i++) {\n        if (flightWarnings[i - 1].filename == flightWarnings[i].filename) {\n          flightWarnings[i].sameFilename = true;\n        } else {\n          flightWarnings[i].sameFilename = false;\n        }\n      }\n\n      for (var i = 1; i < flightErrors.length; i++) {\n        if (flightErrors[i - 1].filename == flightErrors[i].filename) {\n          flightErrors[i].sameFilename = true;\n        } else {\n          flightErrors[i].sameFilename = false;\n        }\n      }\n\n      var importInfo = this.props.importInfo;\n      /*\n      console.log(\"rendering import for filename: '\" + importInfo.filename + \"'\");\n      console.log(this.props);\n      console.log(this.state);\n      */\n\n      var progressSize = importInfo.progressSize;\n      var totalSize = importInfo.totalSize;\n      if (progressSize == undefined) progressSize = importInfo.bytesUploaded;\n      if (totalSize == undefined) totalSize = importInfo.sizeBytes;\n      var width = (progressSize / totalSize * 100).toFixed(2);\n      var sizeText = (progressSize / 1000).toFixed(2).toLocaleString() + \"/\" + (totalSize / 1000).toFixed(2).toLocaleString() + \" kB (\" + width + \"%)\";\n      var progressSizeStyle = {\n        width: width + \"%\",\n        height: \"24px\",\n        textAlign: \"left\",\n        whiteSpace: \"nowrap\"\n      };\n      var styleName = {};\n      var styleTime = {\n        flex: \"0 0 11em\"\n      };\n      var styleCount = {\n        flex: \"0 0 8em\"\n      };\n      var styleStatus = {\n        flex: \"0 0 10em\"\n      };\n      var styleButton = {};\n      var statusText = \"\";\n      var expandButtonClasses = \"p-1 expand-import-button btn btn-outline-secondary\";\n      var expandIconClasses = \"fa \";\n      var expandDivClasses = \"\";\n\n      if (expanded) {\n        expandIconClasses += \"fa-angle-double-up\";\n        expandDivClasses = \"m-0 mt-1 mb-4\";\n      } else {\n        expandIconClasses += \"fa-angle-double-down\";\n        expandDivClasses = \"m-0\";\n      }\n\n      var progressBarClasses = \"progress-bar\";\n      var status = importInfo.status;\n      var colorClasses = \"\";\n\n      if (status == \"HASHING\") {\n        statusText = \"Hashing\";\n        progressBarClasses += \" bg-warning\";\n        colorClasses += \" border-warning text-warning\";\n      } else if (status == \"IMPORTED\") {\n        if (importInfo.errorFlights == 0 && importInfo.warningFlights == 0) {\n          statusText = \"Imported\";\n          progressBarClasses += \" bg-success\";\n          colorClasses += \" border-success text-success\";\n        } else if (importInfo.errorFlights != 0 && importInfo.warningFlights != 0) {\n          statusText = \"Imported With Errors and Warnings\";\n          progressBarClasses += \" bg-danger\";\n          colorClasses += \" border-danger text-danger \";\n        } else if (importInfo.errorFlights != 0) {\n          statusText = \"Imported With Errors\";\n          progressBarClasses += \" bg-danger\";\n          colorClasses += \" border-danger text-danger \";\n        } else if (importInfo.warningFlights != 0) {\n          statusText = \"Imported With Warnings\";\n          progressBarClasses += \" bg-warning\";\n          colorClasses += \" border-warning text-warning \";\n        }\n      } else if (status == \"UPLOADED\") {\n        statusText = \"Not Yet Imported\";\n        progressBarClasses += \" bg-info\";\n        colorClasses += \" border-info text-info\";\n      } else if (status == \"UPLOADING\") {\n        statusText = \"Uploading\";\n      } else if (status == \"UPLOAD INCOMPLETE\") {\n        statusText = \"Upload Incomplete\";\n        progressBarClasses += \" bg-warning\";\n        colorClasses += \" border-warning text-warning\";\n      } else if (status == \"ERROR\") {\n        statusText = \"Import Failed\";\n        progressBarClasses += \" bg-danger\";\n        colorClasses += \" border-danger text-danger\";\n      }\n\n      var textClasses = \"p-1 mr-1 card bg-light\";\n      var cardClasses = textClasses + colorClasses;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"m-1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-row\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: textClasses + \" flex-fill\",\n        style: styleName\n      }, importInfo.filename), /*#__PURE__*/React.createElement(\"a\", {\n        className: expandButtonClasses,\n        href: \"/protected/import_event_stats?upload_id=\" + this.props.importInfo.id\n      }, \"Stats\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: textClasses,\n        style: styleTime\n      }, importInfo.endTime), /*#__PURE__*/React.createElement(\"div\", {\n        className: textClasses + \" text-success\",\n        style: styleCount\n      }, importInfo.validFlights, \" valid\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: textClasses + \" text-warning\",\n        style: styleCount\n      }, importInfo.warningFlights, \" warnings\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: textClasses + \" text-danger\",\n        style: styleCount\n      }, importInfo.errorFlights, \" errors\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: cardClasses,\n        style: styleStatus\n      }, statusText), /*#__PURE__*/React.createElement(\"button\", {\n        className: expandButtonClasses,\n        style: styleButton,\n        onClick: function onClick() {\n          return _this2.expandClicked();\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: expandIconClasses\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: expandDivClasses,\n        hidden: !expanded\n      }, /*#__PURE__*/React.createElement(UploadErrors, {\n        expanded: expanded,\n        uploadErrors: uploadErrors\n      }), /*#__PURE__*/React.createElement(FlightWarnings, {\n        expanded: expanded,\n        flightWarnings: flightWarnings\n      }), /*#__PURE__*/React.createElement(FlightErrors, {\n        expanded: expanded,\n        flightErrors: flightErrors\n      })));\n    }\n  }]);\n\n  return Import;\n}(React.Component);\n\nvar ImportsPage = /*#__PURE__*/function (_React$Component8) {\n  _inherits(ImportsPage, _React$Component8);\n\n  var _super8 = _createSuper(ImportsPage);\n\n  function ImportsPage(props) {\n    var _this3;\n\n    _classCallCheck(this, ImportsPage);\n\n    _this3 = _super8.call(this, props);\n    _this3.state = {\n      imports: _this3.props.imports,\n      //needed for paginator\n      currentPage: _this3.props.currentPage,\n      numberPages: _this3.props.numberPages,\n      //this will be set globally in the javascript\n      pageSize: 10\n    };\n    return _this3;\n  }\n\n  _createClass(ImportsPage, [{\n    key: \"submitFilter\",\n    value: function submitFilter() {\n      var submissionData = {\n        currentPage: this.state.currentPage,\n        pageSize: this.state.pageSize\n      };\n      var importsPage = this;\n      $.ajax({\n        type: 'POST',\n        url: '/protected/get_imports',\n        data: submissionData,\n        dataType: 'json',\n        success: function success(response) {\n          console.log(response);\n          $(\"#loading\").hide();\n\n          if (response.errorTitle) {\n            console.log(\"displaying error modal!\");\n            errorModal.show(response.errorTitle, response.errorMessage);\n            return false;\n          }\n\n          console.log(\"got response: \" + response + \" \" + response.size);\n          importsPage.setState({\n            imports: response.imports,\n            numberPages: response.numberPages\n          });\n        },\n        error: function error(jqXHR, textStatus, errorThrown) {\n          errorModal.show(\"Error Loading Flights\", errorThrown);\n        },\n        async: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SignedInNavbar, {\n        activePage: \"imports\",\n        waitingUserCount: waitingUserCount,\n        fleetManager: fleetManager,\n        unconfirmedTailsCount: unconfirmedTailsCount,\n        modifyTailsAccess: modifyTailsAccess,\n        plotMapHidden: plotMapHidden\n      }), /*#__PURE__*/React.createElement(Paginator, {\n        submitFilter: function submitFilter() {\n          _this4.submitFilter();\n        },\n        items: this.state.imports,\n        itemName: \"uploads\",\n        currentPage: this.state.currentPage,\n        numberPages: this.state.numberPages,\n        pageSize: this.state.pageSize,\n        updateCurrentPage: function updateCurrentPage(currentPage) {\n          _this4.state.currentPage = currentPage;\n        },\n        updateItemsPerPage: function updateItemsPerPage(pageSize) {\n          _this4.state.pageSize = pageSize;\n        }\n      }), this.state.imports.map(function (importInfo, index) {\n        return /*#__PURE__*/React.createElement(Import, {\n          importInfo: importInfo,\n          key: importInfo.identifier\n        });\n      }), /*#__PURE__*/React.createElement(Paginator, {\n        submitFilter: function submitFilter() {\n          _this4.submitFilter();\n        },\n        items: this.state.imports,\n        itemName: \"uploads\",\n        currentPage: this.state.currentPage,\n        numberPages: this.state.numberPages,\n        pageSize: this.state.pageSize,\n        updateCurrentPage: function updateCurrentPage(currentPage) {\n          _this4.state.currentPage = currentPage;\n        },\n        updateItemsPerPage: function updateItemsPerPage(pageSize) {\n          _this4.state.pageSize = pageSize;\n        }\n      }));\n    }\n  }]);\n\n  return ImportsPage;\n}(React.Component);\n\nvar importsPage = ReactDOM.render( /*#__PURE__*/React.createElement(ImportsPage, {\n  imports: imports,\n  numberPages: numberPages,\n  currentPage: currentPage\n}), document.querySelector('#imports-page'));",{"version":3,"names":["React","Component","ReactDOM","Dropdown","DropdownButton","errorModal","SignedInNavbar","Paginator","FlightWarning","props","warning","styleName","flex","filenameClasses","filenameText","filename","sameFilename","message","FlightWarnings","flightWarnings","map","index","id","FlightError","error","FlightErrors","flightErrors","UploadError","UploadErrors","uploadErrors","Import","undefined","state","expanded","loaded","thisImport","submissionData","uploadId","importInfo","console","log","setState","$","ajax","type","url","data","dataType","success","response","errorTitle","show","errorMessage","jqXHR","textStatus","errorThrown","async","i","length","progressSize","totalSize","bytesUploaded","sizeBytes","width","toFixed","sizeText","toLocaleString","progressSizeStyle","height","textAlign","whiteSpace","styleTime","styleCount","styleStatus","styleButton","statusText","expandButtonClasses","expandIconClasses","expandDivClasses","progressBarClasses","status","colorClasses","errorFlights","warningFlights","textClasses","cardClasses","endTime","validFlights","expandClicked","ImportsPage","imports","currentPage","numberPages","pageSize","importsPage","hide","size","waitingUserCount","fleetManager","unconfirmedTailsCount","modifyTailsAccess","plotMapHidden","submitFilter","identifier","render","document","querySelector"],"sources":["/ngafid/ngafid2.0/src/main/javascript/imports.js"],"sourcesContent":["import 'bootstrap';\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Dropdown from 'react-bootstrap/Dropdown'\nimport DropdownButton from 'react-bootstrap/DropdownButton'\n\nimport { errorModal } from \"./error_modal.js\";\nimport SignedInNavbar from \"./signed_in_navbar.js\";\n\nimport { Paginator } from \"./paginator_component.js\";\n\nclass FlightWarning extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        let warning = this.props.warning;\n\n        const styleName = { flex : \"0 0 25em\" };\n        let filenameClasses = \"p-1 mr-1 card border-warning text-warning\";\n        let filenameText = warning.filename;\n        if (warning.sameFilename) {\n            filenameClasses = \"p-1 mr-1\";\n            filenameText = \"\";\n        }\n\n        return (\n            <div className=\"d-flex flex-row p-0 mt-1\">\n                <div className={filenameClasses} style={styleName} >\n                    {filenameText}\n                </div>\n                <div className=\"p-1 card border-warning text-warning flex-fill\">\n                    {warning.message}\n                </div>\n            </div>\n        );\n    }\n}\n\nclass FlightWarnings extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        let flightWarnings = this.props.flightWarnings;\n\n        return (\n            <div className=\"m-0\">\n                {\n                    flightWarnings.map((warning, index) => {\n                        return (\n                            <FlightWarning warning={warning} key={warning.id} />\n                        );\n                    })\n                }\n            </div>\n        );\n    }\n}\n\nclass FlightError extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n\n    render() {\n        let error = this.props.error;\n\n        const styleName = { flex : \"0 0 25em\" };\n        let filenameClasses = \"p-1 mr-1 card border-danger text-danger\";\n        let filenameText = error.filename;\n        if (error.sameFilename) {\n            filenameClasses = \"p-1 mr-1\";\n            filenameText = \"\";\n        }\n\n        return (\n            <div className=\"d-flex flex-row p-0 mt-1\">\n                <div className={filenameClasses} style={styleName} >\n                    {filenameText}\n                </div>\n                <div className=\"p-1 card border-danger text-danger flex-fill\">\n                    {error.message}\n                </div>\n            </div>\n        );\n    }\n}\n\nclass FlightErrors extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        let flightErrors = this.props.flightErrors;\n\n        return (\n            <div className=\"m-0\">\n                {\n                    flightErrors.map((error, index) => {\n                        return (\n                            <FlightError error={error} key={error.id} />\n                        );\n                    })\n                }\n            </div>\n        );\n    }\n}\n\nclass UploadError extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <div className=\"d-flex flex-row card p-1 border-danger text-danger\">\n                {this.props.error.message}\n            </div>\n        );\n    }\n}\n\nclass UploadErrors extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        let uploadErrors = this.props.uploadErrors;\n\n        return (\n            <div className=\"m-0 mt-1\">\n                {\n                    uploadErrors.map((error, index) => {\n                        return (\n                            <UploadError error={error} key={error.id} />\n                        );\n                    })\n                }\n            </div>\n        );\n    }\n}\n\nclass Import extends React.Component {\n    constructor(props) {\n        super(props);\n\n        let uploadErrors = props.uploadErrors;\n        if (uploadErrors == undefined) uploadErrors = [];\n\n        let flightWarnings = props.flightWarnings;\n        if (flightWarnings == undefined) flightWarnings = [];\n\n        let flightErrors = props.flightErrors;\n        if (flightErrors == undefined) flightErrors = [];\n\n\n        this.state = {\n            expanded : false,\n            loaded : false,\n            uploadErrors : uploadErrors,\n            flightWarnings: flightWarnings,\n            flightErrors: flightErrors\n        };\n    }\n\n    componentDidMount() {\n        //console.log(\"import did mount for filename: '\" + this.props.importInfo.filename + \"'\");\n    }\n\n    expandClicked() {\n        var thisImport = this;\n\n        var submissionData = {\n            uploadId : this.props.importInfo.id\n        };   \n\n        if (this.state.loaded) {\n            console.log(\"not fetching import information from the server, already loaded.\");\n            thisImport.state.expanded = !thisImport.state.expanded;\n            thisImport.setState(thisImport.state);\n        } else {\n            console.log(\"fetching import information from the server.\");\n\n            $.ajax({\n                type: 'POST',\n                url: '/protected/upload_details',\n                data : submissionData,\n                dataType : 'json',\n                success : function(response) {\n                    console.log(\"received response: \");\n                    console.log(response);\n\n                    if (response.errorTitle !== undefined) {\n                        errorModal.show(response.errorTitle, response.errorMessage);\n                    } else {\n                        thisImport.state.loaded = true;\n                        thisImport.state.expanded = !thisImport.state.expanded;\n                        console.log(\"expand clicked, now:\" + thisImport.state.expanded);\n                        thisImport.state.uploadErrors = response.uploadErrors;\n                        thisImport.state.flightWarnings = response.flightWarnings;\n                        thisImport.state.flightErrors = response.flightErrors;\n\n                        thisImport.setState(thisImport.state);\n                    }\n\n                },   \n                error : function(jqXHR, textStatus, errorThrown) {\n                    errorModal.show(\"Error Loading Uploads\", errorThrown);\n                },   \n                async: true \n            });  \n        }\n\n    }\n\n    render() {\n        let expanded = this.state.expanded;\n        let uploadErrors = this.state.uploadErrors;\n        let flightWarnings = this.state.flightWarnings;\n        let flightErrors = this.state.flightErrors;\n\n        for (var i = 1; i < flightWarnings.length; i++) {\n            if (flightWarnings[i-1].filename == flightWarnings[i].filename) {\n                flightWarnings[i].sameFilename = true;\n            } else {\n                flightWarnings[i].sameFilename = false;\n            }\n        }\n\n        for (var i = 1; i < flightErrors.length; i++) {\n            if (flightErrors[i-1].filename == flightErrors[i].filename) {\n                flightErrors[i].sameFilename = true;\n            } else {\n                flightErrors[i].sameFilename = false;\n            }\n        }\n\n        let importInfo = this.props.importInfo;\n\n        /*\n        console.log(\"rendering import for filename: '\" + importInfo.filename + \"'\");\n        console.log(this.props);\n        console.log(this.state);\n        */\n\n        let progressSize = importInfo.progressSize;\n        let totalSize = importInfo.totalSize;\n\n        if (progressSize == undefined) progressSize = importInfo.bytesUploaded;\n        if (totalSize == undefined) totalSize = importInfo.sizeBytes;\n\n        const width = ((progressSize / totalSize) * 100).toFixed(2);\n        const sizeText = (progressSize/1000).toFixed(2).toLocaleString() + \"/\" + (totalSize/1000).toFixed(2).toLocaleString()  + \" kB (\" + width + \"%)\";\n        const progressSizeStyle = {\n            width : width + \"%\",\n            height : \"24px\",\n            textAlign : \"left\",\n            whiteSpace : \"nowrap\"\n        };\n\n        const styleName = { };\n        const styleTime = { flex : \"0 0 11em\" };\n        const styleCount = { flex : \"0 0 8em\" };\n        const styleStatus = { flex : \"0 0 10em\" };\n        const styleButton = { };\n\n        let statusText = \"\";\n        let expandButtonClasses = \"p-1 expand-import-button btn btn-outline-secondary\";\n        let expandIconClasses = \"fa \";\n\n        let expandDivClasses = \"\";\n        if (expanded) {\n            expandIconClasses += \"fa-angle-double-up\";\n            expandDivClasses = \"m-0 mt-1 mb-4\";\n        } else {\n            expandIconClasses += \"fa-angle-double-down\";\n            expandDivClasses = \"m-0\";\n        }\n\n        let progressBarClasses = \"progress-bar\";\n        let status = importInfo.status;\n        let colorClasses = \"\";\n\n        if (status == \"HASHING\") {\n            statusText = \"Hashing\";\n            progressBarClasses += \" bg-warning\";\n            colorClasses += \" border-warning text-warning\";\n        } else if (status == \"IMPORTED\") {\n            if (importInfo.errorFlights == 0 && importInfo.warningFlights == 0) {\n                statusText = \"Imported\";\n                progressBarClasses += \" bg-success\";\n                colorClasses += \" border-success text-success\";\n\n            } else if (importInfo.errorFlights != 0 && importInfo.warningFlights != 0) {\n                statusText = \"Imported With Errors and Warnings\";\n                progressBarClasses += \" bg-danger\";\n                colorClasses += \" border-danger text-danger \";\n\n            } else if (importInfo.errorFlights != 0) {\n                statusText = \"Imported With Errors\";\n                progressBarClasses += \" bg-danger\";\n                colorClasses += \" border-danger text-danger \";\n\n            } else if (importInfo.warningFlights != 0) {\n                statusText = \"Imported With Warnings\";\n                progressBarClasses += \" bg-warning\";\n                colorClasses += \" border-warning text-warning \";\n            }\n\n        } else if (status == \"UPLOADED\") {\n            statusText = \"Not Yet Imported\";\n            progressBarClasses += \" bg-info\";\n            colorClasses += \" border-info text-info\";\n\n        } else if (status == \"UPLOADING\") {\n            statusText = \"Uploading\";\n\n        } else if (status == \"UPLOAD INCOMPLETE\") {\n            statusText = \"Upload Incomplete\";\n            progressBarClasses += \" bg-warning\";\n            colorClasses += \" border-warning text-warning\";\n\n        } else if (status == \"ERROR\") {\n            statusText = \"Import Failed\";\n            progressBarClasses += \" bg-danger\";\n            colorClasses += \" border-danger text-danger\";\n        }\n\n        let textClasses = \"p-1 mr-1 card bg-light\";\n        let cardClasses = textClasses + colorClasses;\n\n        return (\n            <div className=\"m-1\">\n                <div className=\"d-flex flex-row\">\n                    <div className={textClasses + \" flex-fill\"} style={styleName}>{importInfo.filename}</div>\n                    <a className={expandButtonClasses} href={\"/protected/import_event_stats?upload_id=\" + this.props.importInfo.id}>Stats</a>\n                    <div className={textClasses} style={styleTime}>{importInfo.endTime}</div>\n                    <div className={textClasses + \" text-success\"} style={styleCount}>{importInfo.validFlights} valid</div>\n                    <div className={textClasses + \" text-warning\"} style={styleCount}>{importInfo.warningFlights} warnings</div>\n                    <div className={textClasses + \" text-danger\"} style={styleCount}>{importInfo.errorFlights} errors</div>\n                    <div className={cardClasses} style={styleStatus}>{statusText}</div>\n                    <button className={expandButtonClasses} style={styleButton} onClick={() => this.expandClicked()}><i className={expandIconClasses}></i></button>\n\n                </div>\n                <div className={expandDivClasses} hidden={!expanded}>\n                    <UploadErrors expanded={expanded} uploadErrors={uploadErrors}/>\n                    <FlightWarnings expanded={expanded} flightWarnings={flightWarnings}/>\n                    <FlightErrors expanded={expanded} flightErrors={flightErrors}/>\n                </div>\n            </div>\n        );\n\n    }\n}\n\n\nclass ImportsPage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            imports : this.props.imports,\n\n            //needed for paginator\n            currentPage : this.props.currentPage,\n            numberPages : this.props.numberPages, //this will be set globally in the javascript\n            pageSize : 10\n        };\n    }\n\n    submitFilter() {\n        var submissionData = {\n            currentPage : this.state.currentPage,\n            pageSize : this.state.pageSize\n        }\n\n        var importsPage = this;\n\n        $.ajax({\n            type: 'POST',\n            url: '/protected/get_imports',\n            data : submissionData,\n            dataType : 'json',\n            success : function(response) {\n\n                console.log(response);\n\n                $(\"#loading\").hide();\n\n                if (response.errorTitle) {\n                    console.log(\"displaying error modal!\");\n                    errorModal.show(response.errorTitle, response.errorMessage);\n                    return false;\n                }\n\n                console.log(\"got response: \"+response+\" \"+response.size);\n\n                importsPage.setState({\n                    imports : response.imports,\n                    numberPages : response.numberPages\n                });\n            },\n            error : function(jqXHR, textStatus, errorThrown) {\n                errorModal.show(\"Error Loading Flights\", errorThrown);\n            },\n            async: true\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <SignedInNavbar activePage=\"imports\" waitingUserCount={waitingUserCount} fleetManager={fleetManager} unconfirmedTailsCount={unconfirmedTailsCount} modifyTailsAccess={modifyTailsAccess} plotMapHidden={plotMapHidden}/>\n\n\n                <Paginator\n                    submitFilter={() => {this.submitFilter();}}\n                    items={this.state.imports}\n                    itemName=\"uploads\"\n                    currentPage={this.state.currentPage}\n                    numberPages={this.state.numberPages}\n                    pageSize={this.state.pageSize}\n                    updateCurrentPage={(currentPage) => {\n                        this.state.currentPage = currentPage;\n                    }}\n                    updateItemsPerPage={(pageSize) => {\n                        this.state.pageSize = pageSize;\n                    }}\n                />\n\n                {\n                    this.state.imports.map((importInfo, index) => {\n                        return (\n                            <Import importInfo={importInfo} key={importInfo.identifier} />\n                        );\n                    })\n                }\n\n\n                <Paginator\n                    submitFilter={() => {this.submitFilter();}}\n                    items={this.state.imports}\n                    itemName=\"uploads\"\n                    currentPage={this.state.currentPage}\n                    numberPages={this.state.numberPages}\n                    pageSize={this.state.pageSize}\n                    updateCurrentPage={(currentPage) => {\n                        this.state.currentPage = currentPage;\n                    }}\n                    updateItemsPerPage={(pageSize) => {\n                        this.state.pageSize = pageSize;\n                    }}\n                />\n            </div>\n        );\n    }\n}\n\n\nvar importsPage = ReactDOM.render(\n    <ImportsPage imports={imports} numberPages={numberPages} currentPage={currentPage} />,\n    document.querySelector('#imports-page')\n);\n"],"mappings":"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"}]}