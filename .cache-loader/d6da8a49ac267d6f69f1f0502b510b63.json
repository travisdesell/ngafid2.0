{"remainingRequest":"/ngafid/ngafid2.0/node_modules/babel-loader/lib/index.js??ruleSet[1].rules[0].use[1]!/ngafid/ngafid2.0/src/main/javascript/login.js","dependencies":[{"path":"/ngafid/ngafid2.0/src/main/javascript/login.js","mtime":1664810261290},{"path":"/ngafid/ngafid2.0/.babelrc","mtime":1664810261182},{"path":"/ngafid/ngafid2.0/node_modules/cache-loader/dist/cjs.js","mtime":1664910647113},{"path":"/ngafid/ngafid2.0/node_modules/babel-loader/lib/index.js","mtime":1664910647213}],"contextDependencies":[],"result":["function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport 'bootstrap';\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { errorModal } from \"./error_modal.js\";\nimport $ from 'jquery';\nwindow.jQuery = $;\nwindow.$ = $;\n\nvar LoginModal = /*#__PURE__*/function (_React$Component) {\n  _inherits(LoginModal, _React$Component);\n\n  var _super = _createSuper(LoginModal);\n\n  function LoginModal(props) {\n    var _this;\n\n    _classCallCheck(this, LoginModal);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      valid: {\n        email: false,\n        emailEmpty: true,\n        passwordEmpty: true,\n        loginMessage: false\n      },\n      errorMessage: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(LoginModal, [{\n    key: \"show\",\n    value: function show() {\n      this.validateEmail();\n      this.validatePassword();\n      $(\"#login-modal\").modal('show');\n    }\n  }, {\n    key: \"submitLogin\",\n    value: function submitLogin() {\n      var valid = true;\n\n      for (var property in this.state.valid) {\n        console.log(property);\n\n        if (property == false) {\n          valid = false;\n          break;\n        }\n      }\n\n      if (!valid) return;\n      console.log(\"Submitting login!\");\n      $(\"#login-modal\").modal('show');\n      $(\"#loading\").show();\n      var submissionData = {\n        email: $(\"#loginEmail\").val(),\n        password: $(\"#loginPassword\").val()\n      };\n      $.ajax({\n        type: 'POST',\n        url: './login',\n        data: submissionData,\n        dataType: 'json',\n        success: function success(response) {\n          $(\"#loginPassword\").val(\"\");\n          $(\"#loading\").hide();\n\n          if (response.loggedOut) {\n            console.log(\"user was logged out\");\n            loginModal.state.valid.errorMessage = true;\n            loginModal.state.errorMessage = response.message;\n            loginModal.setState(loginModal.state);\n            navbar.logOut();\n            return false;\n          } //login was successful or had a server error, we can hide the modal\n\n\n          $(\"#login-modal\").modal('hide');\n\n          if (response.errorTitle) {\n            console.log(\"displaying error modal!\");\n            errorModal.show(response.errorTitle, response.errorMessage);\n            return false;\n          }\n\n          if (response.waiting || response.denied) {\n            //redirect to the waiting page\n            window.location.replace(\"/protected/waiting\");\n          } else {\n            //redirect to the base page (which will redirect to either welcome, waiting or the page before login)\n            window.location.replace(\"/\");\n          }\n        },\n        error: function error(jqXHR, textStatus, errorThrown) {\n          $(\"#loading\").hide();\n          errorModal.show(\"Error Submitting Account Information\", errorThrown);\n        },\n        async: true\n      });\n    }\n  }, {\n    key: \"validateEmail\",\n    value: function validateEmail() {\n      var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      var email = $(\"#loginEmail\").val();\n      this.state.valid.email = re.test(String(email).toLowerCase());\n      this.state.valid.emailEmpty = email.length == 0; //reset the error message from the server as the user has modified the email/password\n\n      this.state.valid.errorMessage = false;\n      this.state.errorMessage = \"\";\n      this.setState(this.state);\n    }\n  }, {\n    key: \"validatePassword\",\n    value: function validatePassword() {\n      var password = $(\"#loginPassword\").val();\n      this.state.valid.passwordEmpty = password.length == 0; //reset the error message from the server as the user has modified the email/password\n\n      this.state.valid.errorMessage = false;\n      this.state.errorMessage = \"\";\n      this.setState(this.state);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var hidden = this.props.hidden;\n      var formGroupStyle = {\n        marginBottom: '8px'\n      };\n      var formHeaderStyle = {\n        width: '150px',\n        flex: '0 0 150px'\n      };\n      var labelStyle = {\n        padding: '7 0 7 0',\n        margin: '0',\n        display: 'block',\n        textAlign: 'right'\n      };\n      var validationMessageStyle = {\n        padding: '7 0 7 0',\n        margin: '0',\n        display: 'block',\n        textAlign: 'left',\n        color: 'red'\n      };\n      var validationMessage = \"\";\n      var validationHidden = true;\n\n      if (this.state.valid.errorMessage) {\n        //show error messages from the server first\n        validationMessage = this.state.errorMessage;\n        validationHidden = false;\n      } else if (this.state.valid.emailEmpty) {\n        validationMessage = \"Please enter your email.\";\n        validationHidden = false;\n      } else if (!this.state.valid.email) {\n        validationMessage = \"Email was not valid.\";\n        validationHidden = false;\n      } else if (this.state.valid.passwordEmpty) {\n        validationMessage = \"Please enter a password.\";\n        validationHidden = false;\n      }\n\n      var submitDisabled = !validationHidden;\n      console.log(\"rendering login modal with validation message: '\" + validationMessage + \"' and validation visible: \" + validationHidden);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modal-content\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modal-header\"\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        id: \"login-modal-title\",\n        className: \"modal-title\"\n      }, \"Login\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        \"data-dismiss\": \"modal\",\n        \"aria-label\": \"Close\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        \"aria-hidden\": \"true\"\n      }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"login-modal-body\",\n        className: \"modal-body\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        style: formGroupStyle\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-2\",\n        style: formHeaderStyle\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"loginEmail\",\n        style: labelStyle\n      }, \"Email address\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-2 flex-fill\"\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"email\",\n        className: \"form-control\",\n        id: \"loginEmail\",\n        \"aria-describedby\": \"emailHelp\",\n        placeholder: \"Enter email (required)\",\n        required: true,\n        onChange: function onChange() {\n          _this2.validateEmail();\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        style: formGroupStyle\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-2\",\n        style: formHeaderStyle\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"loginPassword\",\n        style: labelStyle\n      }, \"Password\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-2 flex-fill\"\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        id: \"loginPassword\",\n        placeholder: \"Password (required)\",\n        required: true,\n        onChange: function onChange() {\n          _this2.validatePassword();\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-2\",\n        style: formHeaderStyle\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-2 flex-fill\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: validationMessageStyle,\n        hidden: validationHidden\n      }, validationMessage)))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modal-footer\"\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        \"data-dismiss\": \"modal\"\n      }, \"Close\"), /*#__PURE__*/React.createElement(\"button\", {\n        id: \"loginSubmitButton\",\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        onClick: function onClick() {\n          _this2.submitLogin();\n        },\n        disabled: submitDisabled\n      }, \"Submit\")));\n    }\n  }]);\n\n  return LoginModal;\n}(React.Component);\n\nvar loginModal = ReactDOM.render( /*#__PURE__*/React.createElement(LoginModal, null), document.querySelector(\"#login-modal-content\"));\nexport { loginModal };",{"version":3,"names":["React","Component","ReactDOM","errorModal","$","window","jQuery","LoginModal","props","state","valid","email","emailEmpty","passwordEmpty","loginMessage","errorMessage","validateEmail","validatePassword","modal","property","console","log","show","submissionData","val","password","ajax","type","url","data","dataType","success","response","hide","loggedOut","loginModal","message","setState","navbar","logOut","errorTitle","waiting","denied","location","replace","error","jqXHR","textStatus","errorThrown","async","re","test","String","toLowerCase","length","hidden","formGroupStyle","marginBottom","formHeaderStyle","width","flex","labelStyle","padding","margin","display","textAlign","validationMessageStyle","color","validationMessage","validationHidden","submitDisabled","submitLogin","render","document","querySelector"],"sources":["/ngafid/ngafid2.0/src/main/javascript/login.js"],"sourcesContent":["import 'bootstrap';\n\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { errorModal } from \"./error_modal.js\";\n\nimport $ from 'jquery';\nwindow.jQuery = $;\nwindow.$ = $;\n\n\nclass LoginModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            valid : {\n                email : false,\n                emailEmpty : true,\n                passwordEmpty : true,\n                loginMessage : false\n            },\n            errorMessage : \"\"\n        };\n    }\n\n    show() {\n        this.validateEmail();\n        this.validatePassword();\n        $(\"#login-modal\").modal('show');\n    }\n\n    submitLogin() {\n        let valid = true;\n        for (let property in this.state.valid) {\n            console.log(property);\n\n            if (property == false) {\n                valid = false;\n                break;\n            }\n        }\n\n        if (!valid) return;\n        console.log(\"Submitting login!\");\n\n        $(\"#login-modal\").modal('show');\n        $(\"#loading\").show();\n\n        var submissionData = { \n            email : $(\"#loginEmail\").val(),\n            password : $(\"#loginPassword\").val()\n        };\n\n        $.ajax({\n            type: 'POST',\n            url: './login',\n            data : submissionData,\n            dataType : 'json',\n            success : function(response) {\n                $(\"#loginPassword\").val(\"\");\n                $(\"#loading\").hide();\n\n                if (response.loggedOut) {\n                    console.log(\"user was logged out\");\n                    loginModal.state.valid.errorMessage = true;\n                    loginModal.state.errorMessage = response.message;\n                    loginModal.setState(loginModal.state);\n                    navbar.logOut();\n                    return false;\n                }\n\n                //login was successful or had a server error, we can hide the modal\n                $(\"#login-modal\").modal('hide');\n\n                if (response.errorTitle) {\n                    console.log(\"displaying error modal!\");\n                    errorModal.show(response.errorTitle, response.errorMessage);\n                    return false;\n                }\n\n                if (response.waiting || response.denied) {\n                    //redirect to the waiting page\n                    window.location.replace(\"/protected/waiting\");\n                } else {\n                    //redirect to the base page (which will redirect to either welcome, waiting or the page before login)\n                    window.location.replace(\"/\");\n                }\n\n            },\n            error : function(jqXHR, textStatus, errorThrown) {\n                $(\"#loading\").hide();\n                errorModal.show(\"Error Submitting Account Information\", errorThrown);\n            },\n            async: true\n        });\n\n    }\n\n    validateEmail() {\n        let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n        let email = $(\"#loginEmail\").val();\n        this.state.valid.email = re.test(String(email).toLowerCase());\n        this.state.valid.emailEmpty = email.length == 0;\n\n        //reset the error message from the server as the user has modified the email/password\n        this.state.valid.errorMessage = false;\n        this.state.errorMessage = \"\";\n\n        this.setState(this.state);\n    }\n\n    validatePassword() {\n        let password = $(\"#loginPassword\").val();\n        this.state.valid.passwordEmpty = password.length == 0;\n\n        //reset the error message from the server as the user has modified the email/password\n        this.state.valid.errorMessage = false;\n        this.state.errorMessage = \"\";\n\n        this.setState(this.state);\n    }\n\n    render() {\n        const hidden = this.props.hidden;\n\n        let formGroupStyle = {\n            marginBottom: '8px'\n        };\n\n        let formHeaderStyle = {\n            width: '150px',\n            flex: '0 0 150px'\n        };\n\n        let labelStyle = {\n            padding : '7 0 7 0',\n            margin : '0',\n            display: 'block',\n            textAlign: 'right'\n        };\n\n        let validationMessageStyle = {\n            padding : '7 0 7 0',\n            margin : '0',\n            display: 'block',\n            textAlign: 'left',\n            color: 'red'\n        };\n\n        let validationMessage = \"\";\n        let validationHidden = true;\n\n\n        if (this.state.valid.errorMessage) {\n            //show error messages from the server first\n            validationMessage = this.state.errorMessage;\n            validationHidden = false;\n        } else if (this.state.valid.emailEmpty) {\n            validationMessage = \"Please enter your email.\";\n            validationHidden = false;\n\n        } else if (!this.state.valid.email) {\n            validationMessage = \"Email was not valid.\";\n            validationHidden = false;\n\n        } else if (this.state.valid.passwordEmpty) {\n            validationMessage = \"Please enter a password.\";\n            validationHidden = false;\n        }\n\n        let submitDisabled = !validationHidden;\n\n        console.log(\"rendering login modal with validation message: '\" + validationMessage + \"' and validation visible: \" + validationHidden);\n\n\n        return (\n            <div className='modal-content'>\n\n                <div className='modal-header'>\n                    <h5 id='login-modal-title' className='modal-title'>Login</h5>\n                    <button type='button' className='close' data-dismiss='modal' aria-label='Close'>\n                        <span aria-hidden='true'>&times;</span>\n                    </button>\n                </div>\n\n                <div id='login-modal-body' className='modal-body'>\n\n                    <div className=\"form-group\" style={formGroupStyle}>\n                        <div className=\"d-flex\">\n                            <div className=\"p-2\" style={formHeaderStyle}>\n                                <label htmlFor=\"loginEmail\" style={labelStyle}>Email address</label>\n                            </div>\n                            <div className=\"p-2 flex-fill\">\n                                <input type=\"email\" className=\"form-control\" id=\"loginEmail\" aria-describedby=\"emailHelp\" placeholder=\"Enter email (required)\" required={true} onChange={() => {this.validateEmail();}}/>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"form-group\" style={formGroupStyle}>\n                        <div className=\"d-flex\">\n                            <div className=\"p-2\" style={formHeaderStyle}>\n                                <label htmlFor=\"loginPassword\" style={labelStyle}>Password</label>\n                            </div>\n                            <div className=\"p-2 flex-fill\">\n                                <input type=\"password\" className=\"form-control\" id=\"loginPassword\" placeholder=\"Password (required)\" required={true} onChange={() => {this.validatePassword();}} />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"d-flex\">\n                            <div className=\"p-2\" style={formHeaderStyle}>\n                            </div>\n                        <div className=\"p-2 flex-fill\">\n                            <span style={validationMessageStyle} hidden={validationHidden}>{validationMessage}</span>\n                        </div>\n                    </div>\n\n                </div>\n\n                <div className='modal-footer'>\n                    <button type='button' className='btn btn-secondary' data-dismiss='modal'>Close</button>\n                    <button id='loginSubmitButton' type='submit' className='btn btn-primary' onClick={() => {this.submitLogin();}} disabled={submitDisabled}>Submit</button>\n                </div>\n\n            </div>\n        );\n    }\n}\n\nvar loginModal = ReactDOM.render(\n    <LoginModal />,\n    document.querySelector(\"#login-modal-content\")\n);\n\nexport { loginModal };\n"],"mappings":"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"}]}