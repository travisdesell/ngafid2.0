{"remainingRequest":"/ngafid/ngafid2.0/node_modules/babel-loader/lib/index.js??ruleSet[1].rules[0].use[1]!/ngafid/ngafid2.0/src/main/javascript/event_annotation.js","dependencies":[{"path":"/ngafid/ngafid2.0/src/main/javascript/event_annotation.js","mtime":1665940334158},{"path":"/ngafid/ngafid2.0/.babelrc","mtime":1664810261182},{"path":"/ngafid/ngafid2.0/node_modules/cache-loader/dist/cjs.js","mtime":1664910647113},{"path":"/ngafid/ngafid2.0/node_modules/babel-loader/lib/index.js","mtime":1664910647213}],"contextDependencies":[],"result":["function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport 'bootstrap';\nimport React, { Component } from \"react\";\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Popover from 'react-bootstrap/Popover';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Button from 'react-bootstrap/Button';\nimport Table from 'react-bootstrap/Table';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport { errorModal } from './error_modal.js';\nimport { confirmModal } from './confirm_modal.js';\n\nvar EventAnnotation = /*#__PURE__*/function (_React$Component) {\n  _inherits(EventAnnotation, _React$Component);\n\n  var _super = _createSuper(EventAnnotation);\n\n  function EventAnnotation(props) {\n    var _this;\n\n    _classCallCheck(this, EventAnnotation);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      annotationNotes: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(EventAnnotation, [{\n    key: \"getAnnotations\",\n    value: function getAnnotations() {\n      console.log(\"grabbing annoations\");\n      var annotations = [];\n      var submissionData = {\n        eventId: this.props.event.id\n      };\n      $.ajax({\n        type: 'GET',\n        url: '/protected/event_annotations',\n        dataType: 'json',\n        data: submissionData,\n        success: function success(response) {\n          annotations = response;\n        },\n        error: function error(jqXHR, textStatus, errorThrown) {},\n        async: false\n      });\n      return annotations;\n    }\n  }, {\n    key: \"setEventAnnotation\",\n    value: function setEventAnnotation(name, eventId) {\n      var override = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      console.log(\"Setting annotation for event \" + eventId + \" using: \" + name);\n      var thisAnnotation = this;\n      var submissionData = {\n        className: name,\n        eventId: eventId,\n        override: override\n      };\n      $.ajax({\n        type: 'POST',\n        url: '/protected/create_annotation',\n        data: submissionData,\n        dataType: 'json',\n        success: function success(response) {\n          console.log(\"create annotation response:\");\n          console.log(response);\n\n          if (response == \"ALREADY_EXISTS\") {\n            confirmModal.show(\"Error\", \"You have already assigned a class to this event, are you sure you would like to change it to: \" + name + \"?\", function () {\n              return thisAnnotation.setEventAnnotation(name, eventId, true);\n            });\n          } else if (response == \"INVALID_PERMISSION\") {\n            errorModal.show(\"Error\", \"You do not have permission to annotate this flight. Please contact the site admin for more information.\");\n          } else if (response == \"OK\") {\n            thisAnnotation.setState(thisAnnotation.state);\n          }\n        },\n        error: function error(jqXHR, textStatus, errorThrown) {},\n        async: false\n      });\n    }\n  }, {\n    key: \"updateAnnotationNotes\",\n    value: function updateAnnotationNotes(eventId, notes) {\n      console.log(\"update event notes: \" + notes);\n      var thisAnnotation = this;\n      var submissionData = {\n        notes: notes,\n        eventId: eventId\n      };\n      $.ajax({\n        type: 'POST',\n        url: '/protected/event_annotation_notes',\n        data: submissionData,\n        dataType: 'json',\n        success: function success(response) {\n          if (response == 'SUCCESS') {\n            thisAnnotation.state.annotationNotes = notes;\n            thisAnnotation.setState(thisAnnotation.state);\n          } else if (response == 'ERROR') {\n            errorModal.show('Error', 'If you are seeing this message it means something bad has happened on the server. Please contact Aidan LaBella immediately.');\n          }\n        },\n        error: function error(jqXHR, textStatus, errorThrown) {},\n        async: false\n      });\n    }\n  }, {\n    key: \"notesFloppyClicked\",\n    value: function notesFloppyClicked(eventId) {\n      var textInputId = '#' + eventId + '-notes';\n      var popoverId = '#' + eventId + '-popover';\n      var noteString = $(textInputId).val();\n      $(popoverId).hide();\n      this.updateAnnotationNotes(eventId, noteString);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var cellClasses = \"d-flex flex-row p-1\";\n      var cellStyle = {\n        \"overflowX\": \"auto\",\n        \"overflowY\": \"visible\"\n      };\n      var annotations = this.getAnnotations();\n      var lociAnnotationNames = Array.from(this.props.annotationTypes.values());\n      var hasCompletedAnnotation = false;\n      var disableComments = true;\n      var event = this.props.event;\n      annotations.forEach(function (element) {\n        if (element.classId != -1) {\n          hasCompletedAnnotation = true;\n          _this2.state.annotationNotes = element.notes;\n        }\n      });\n      var log = /*#__PURE__*/React.createElement(OverlayTrigger, {\n        trigger: \"click\",\n        placement: \"right-end\",\n        overlay: lociAnnotationPopover\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"m-1\",\n        \"data-toggle\": \"button\",\n        variant: \"outline-danger\",\n        title: \"No log available.\",\n        disabled: true\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-users\",\n        \"aria-hidden\": \"true\"\n      }), \" Nobody has annotated this event yet!\"));\n      var lociAnnotationPopover = /*#__PURE__*/React.createElement(Popover, {\n        id: \"popover-basic\",\n        style: {\n          maxWidth: '1200px'\n        }\n      }, /*#__PURE__*/React.createElement(Popover.Title, null, /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Col, {\n        style: {\n          display: \"flex\"\n        }\n      }, \"Annotation Log\"))), /*#__PURE__*/React.createElement(Popover.Content, null, /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table-striped table-bordered table-sm\"\n      }, /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", {\n        colSpan: 3\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"m-1\"\n      }, \" Event \", event.id, \": \"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"badge m-1\",\n        style: {\n          backgroundColor: event.color,\n          color: 'white'\n        }\n      }, event.eventDefinition.name)))), /*#__PURE__*/React.createElement(\"tbody\", null, annotations.map(function (eventAnnotation, index) {\n        var timestamp = eventAnnotation.timestamp;\n        var status = /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-check\",\n          \"aria-hidden\": \"true\",\n          style: {\n            color: 'green'\n          }\n        });\n\n        if (eventAnnotation.classId != -1) {\n          status = _this2.props.annotationTypes.get(eventAnnotation.classId.toString());\n        }\n\n        var dateTime = timestamp.date.month + \"/\" + timestamp.date.day + \"/\" + timestamp.date.year;\n        dateTime = dateTime + \" \" + timestamp.time.hour + \":\" + timestamp.time.minute + \".\" + timestamp.time.second;\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: index\n        }, /*#__PURE__*/React.createElement(\"td\", null, status), /*#__PURE__*/React.createElement(\"td\", null, eventAnnotation.user.firstName + \" \" + eventAnnotation.user.lastName), /*#__PURE__*/React.createElement(\"td\", null, dateTime));\n      })))));\n      var additionalNotesPopover = /*#__PURE__*/React.createElement(Popover, {\n        id: event.id + \"-popover\",\n        style: {\n          maxWidth: '1200px'\n        }\n      }, /*#__PURE__*/React.createElement(Popover.Title, null, /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Col, {\n        style: {\n          display: \"flex\"\n        }\n      }, \"Annotator's Notes:\"))), /*#__PURE__*/React.createElement(Popover.Content, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\"\n      }, /*#__PURE__*/React.createElement(\"textarea\", {\n        id: event.id + \"-notes\",\n        className: \"form-control\",\n        defaultValue: this.state.annotationNotes,\n        \"aria-label\": \"textarea\"\n      })), /*#__PURE__*/React.createElement(Button, {\n        className: \"mt-1 btn-block btn-sm\",\n        variant: \"outline-success\",\n        title: \"Submit\",\n        onClick: function onClick() {\n          return _this2.notesFloppyClicked(event.id);\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-floppy-o\",\n        \"aria-hidden\": \"true\"\n      }), \" Save & Close\")));\n\n      if (annotations.length > 0) {\n        log = /*#__PURE__*/React.createElement(OverlayTrigger, {\n          trigger: \"click\",\n          placement: \"right-end\",\n          overlay: lociAnnotationPopover\n        }, /*#__PURE__*/React.createElement(Button, {\n          className: \"m-1\",\n          \"data-toggle\": \"button\",\n          variant: \"outline-warning\",\n          title: \"Click to see the annotation log.\"\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-users\",\n          \"aria-hidden\": \"true\"\n        }), \" You have not yet rated this event.\"));\n      }\n\n      if (hasCompletedAnnotation) {\n        log = /*#__PURE__*/React.createElement(OverlayTrigger, {\n          trigger: \"click\",\n          placement: \"right-end\",\n          overlay: lociAnnotationPopover\n        }, /*#__PURE__*/React.createElement(Button, {\n          className: \"m-1\",\n          \"data-toggle\": \"button\",\n          variant: \"outline-success\",\n          title: \"Click to see the annotation log.\"\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-users\",\n          \"aria-hidden\": \"true\"\n        }), \" You have rated this event!\"));\n        disableComments = false;\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row ml-1\",\n        role: \"group\",\n        \"aria-label\": \"Basic example\"\n      }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"m-1 btn btn-outline-primary dropdown-toggle\",\n        type: \"button\",\n        \"data-toggle\": \"dropdown\",\n        \"aria-haspopup\": \"true\",\n        \"aria-expanded\": \"false\"\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-object-group p-1\"\n      }), \"LOC-I/Stall Class\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"dropdown-menu\",\n        \"aria-labelledby\": \"dropdownMenuButton\"\n      }, lociAnnotationNames.map(function (name, index) {\n        return /*#__PURE__*/React.createElement(\"button\", {\n          key: index,\n          className: \"dropdown-item\",\n          type: \"button\",\n          onClick: function onClick() {\n            return _this2.setEventAnnotation(name, event.id);\n          }\n        }, name);\n      }))), log, /*#__PURE__*/React.createElement(OverlayTrigger, {\n        trigger: \"click\",\n        placement: \"right-end\",\n        overlay: additionalNotesPopover\n      }, /*#__PURE__*/React.createElement(Button, {\n        id: event.id + '-comment-button',\n        className: \"m-1\",\n        variant: \"outline-info\",\n        title: \"Click to comment this annotation\",\n        disabled: disableComments\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-commenting\",\n        \"aria-hidden\": \"true\"\n      }))));\n    }\n  }]);\n\n  return EventAnnotation;\n}(React.Component);\n\nexport { EventAnnotation };",{"version":3,"names":["React","Component","Dropdown","Popover","Col","Row","Button","Table","OverlayTrigger","errorModal","confirmModal","EventAnnotation","props","state","annotationNotes","console","log","annotations","submissionData","eventId","event","id","$","ajax","type","url","dataType","data","success","response","error","jqXHR","textStatus","errorThrown","async","name","override","thisAnnotation","className","show","setEventAnnotation","setState","notes","textInputId","popoverId","noteString","val","hide","updateAnnotationNotes","cellClasses","cellStyle","getAnnotations","lociAnnotationNames","Array","from","annotationTypes","values","hasCompletedAnnotation","disableComments","forEach","element","classId","lociAnnotationPopover","maxWidth","display","backgroundColor","color","eventDefinition","map","eventAnnotation","index","timestamp","status","get","toString","dateTime","date","month","day","year","time","hour","minute","second","user","firstName","lastName","additionalNotesPopover","notesFloppyClicked","length"],"sources":["/ngafid/ngafid2.0/src/main/javascript/event_annotation.js"],"sourcesContent":["import 'bootstrap';\n\nimport React, { Component } from \"react\";\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Popover from 'react-bootstrap/Popover';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Button from 'react-bootstrap/Button';\nimport Table from 'react-bootstrap/Table';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\n\nimport { errorModal } from './error_modal.js';\nimport { confirmModal } from './confirm_modal.js';\n\nclass EventAnnotation extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            annotationNotes : \"\",\n        };\n    }\n\n    getAnnotations() {\n        console.log(\"grabbing annoations\");\n        let annotations = [];\n\n        let submissionData = {\n            eventId : this.props.event.id,\n        }\n\n        $.ajax({\n            type: 'GET',\n            url: '/protected/event_annotations',\n            dataType : 'json',\n            data : submissionData,\n            success : function(response) {\n                annotations = response;\n            },\n            error : function(jqXHR, textStatus, errorThrown) {\n            },\n            async: false\n        });\n\n        return annotations;\n    }\n\n    setEventAnnotation(name, eventId, override = false) {\n        console.log(\"Setting annotation for event \" + eventId + \" using: \" + name);\n        var thisAnnotation = this;\n        let submissionData = {\n            className: name,\n            eventId : eventId,\n            override : override,\n        };\n\n        $.ajax({\n            type: 'POST',\n            url: '/protected/create_annotation',\n            data: submissionData,\n            dataType : 'json',\n            success : function(response) {\n                console.log(\"create annotation response:\");\n                console.log(response);\n\n                if (response == \"ALREADY_EXISTS\") {\n                    confirmModal.show(\"Error\", \"You have already assigned a class to this event, are you sure you would like to change it to: \" + name + \"?\", () => thisAnnotation.setEventAnnotation(name, eventId, true));\n                } else if (response == \"INVALID_PERMISSION\") {\n                    errorModal.show(\"Error\", \"You do not have permission to annotate this flight. Please contact the site admin for more information.\")\n                } else if (response == \"OK\") {\n                    thisAnnotation.setState(thisAnnotation.state);\n                }\n\n            },\n            error : function(jqXHR, textStatus, errorThrown) {\n            },\n            async: false\n        });\n\n    }\n\n    updateAnnotationNotes(eventId, notes) {\n        console.log(\"update event notes: \" + notes);\n\n        var thisAnnotation = this;\n        let submissionData = {\n            notes : notes,\n            eventId : eventId,\n        };\n\n        $.ajax({\n            type: 'POST',\n            url: '/protected/event_annotation_notes',\n            data: submissionData,\n            dataType : 'json',\n            success : function(response) {\n                if (response == 'SUCCESS') {\n                    thisAnnotation.state.annotationNotes = notes;\n                    thisAnnotation.setState(thisAnnotation.state);\n                } else if (response == 'ERROR') {\n                    errorModal.show('Error', 'If you are seeing this message it means something bad has happened on the server. Please contact Aidan LaBella immediately.');\n                }\n            },\n            error : function(jqXHR, textStatus, errorThrown) {\n            },\n            async: false\n        });\n    }\n\n    notesFloppyClicked(eventId) {\n        const textInputId = '#' + eventId + '-notes';\n        const popoverId = '#' + eventId + '-popover';\n\n        const noteString = $(textInputId).val();\n\n        $(popoverId).hide();\n\n        this.updateAnnotationNotes(eventId, noteString);\n    }\n\n    render() {\n        const cellClasses = \"d-flex flex-row p-1\";\n        const cellStyle = { \"overflowX\" : \"auto\", \"overflowY\" : \"visible\" };\n\n        const annotations = this.getAnnotations();\n\n        let lociAnnotationNames = Array.from(this.props.annotationTypes.values());\n        let hasCompletedAnnotation = false;\n\n        var disableComments = true;\n\n        const event = this.props.event;\n\n        annotations.forEach(element => {\n            if (element.classId != -1) {\n                hasCompletedAnnotation = true;\n                this.state.annotationNotes = element.notes;\n            }\n        });\n\n        let log = (\n            <OverlayTrigger trigger=\"click\" placement=\"right-end\" overlay={lociAnnotationPopover}>\n                <Button className=\"m-1\" data-toggle=\"button\" variant=\"outline-danger\" title=\"No log available.\" disabled>\n                    <i className=\"fa fa-users\" aria-hidden=\"true\"></i> Nobody has annotated this event yet!\n                </Button>\n            </OverlayTrigger>\n        );\n        \n        const lociAnnotationPopover = (\n            <Popover\n                id=\"popover-basic\"\n                style={{maxWidth: '1200px'}}\n            >\n                <Popover.Title> \n                    <Row>\n                        <Col style={{ display: \"flex\" }}>Annotation Log</Col>\n                    </Row>\n\n                </Popover.Title>\n                <Popover.Content> \n                    <table className=\"table-striped table-bordered table-sm\">\n                        <thead>\n                            <tr>\n                                <th colSpan={3}>\n                                    <span className='m-1'> Event {event.id}: </span>\n                                    <span className=\"badge m-1\" style={{backgroundColor: event.color, color: 'white'}}>{event.eventDefinition.name}</span>\n                                </th>\n                            </tr>\n                        </thead>\n        \n                        <tbody>\n                            {\n                                annotations.map((eventAnnotation, index) => {\n                                    let timestamp = eventAnnotation.timestamp;\n                                    let status = (<i className=\"fa fa-check\" aria-hidden=\"true\" style={{color : 'green'}}></i>);\n\n                                    if (eventAnnotation.classId != -1) {\n                                        status = this.props.annotationTypes.get(eventAnnotation.classId.toString());\n                                    }\n\n                                    let dateTime = timestamp.date.month + \"/\" + timestamp.date.day + \"/\" + timestamp.date.year;\n                                    dateTime = dateTime + \" \" + timestamp.time.hour + \":\" + timestamp.time.minute + \".\" + timestamp.time.second;\n                                    return (\n                                        <tr key={index}>\n                                            <td>{status}</td>\n                                            <td>{eventAnnotation.user.firstName + \" \" + eventAnnotation.user.lastName}</td>\n                                            <td>{dateTime}</td>\n                                        </tr>\n\n                                    )}\n                                )\n                            }\n                        </tbody>\n\n                    </table>\n                </Popover.Content>\n            </Popover>\n        );\n\n        const additionalNotesPopover = (\n            <Popover\n                id={event.id + \"-popover\"}\n                style={{maxWidth: '1200px'}}\n            >\n                <Popover.Title> \n                    <Row>\n                        <Col style={{ display: \"flex\" }}>Annotator's Notes:</Col>\n                    </Row>\n\n                </Popover.Title>\n                <Popover.Content> \n                    <div className=\"input-group\">\n                        <textarea id={event.id + \"-notes\"} className=\"form-control\" defaultValue={this.state.annotationNotes} aria-label=\"textarea\"></textarea>\n                    </div>\n\n                    <Button \n                        className=\"mt-1 btn-block btn-sm\" variant=\"outline-success\" title=\"Submit\" \n                        onClick={() => this.notesFloppyClicked(event.id)} >\n                            <i className=\"fa fa-floppy-o\" aria-hidden=\"true\"></i> Save & Close\n                    </Button>\n\n                </Popover.Content>\n\n            </Popover>\n        );\n        \n        if (annotations.length > 0) {\n            log = (\n                <OverlayTrigger trigger=\"click\" placement=\"right-end\" overlay={lociAnnotationPopover}>\n                    <Button className=\"m-1\" data-toggle=\"button\" variant=\"outline-warning\" title=\"Click to see the annotation log.\">\n                        <i className=\"fa fa-users\" aria-hidden=\"true\"></i> You have not yet rated this event.\n                    </Button>\n                </OverlayTrigger>\n            );\n\n        }\n\n        if (hasCompletedAnnotation) {\n            log = (\n                <OverlayTrigger trigger=\"click\" placement=\"right-end\" overlay={lociAnnotationPopover}>\n                    <Button className=\"m-1\" data-toggle=\"button\" variant=\"outline-success\" title=\"Click to see the annotation log.\">\n                        <i className=\"fa fa-users\" aria-hidden=\"true\"></i> You have rated this event!\n                    </Button>\n                </OverlayTrigger>\n            )\n\n            disableComments = false;\n        }\n\n        return (\n            <div className=\"row ml-1\" role=\"group\" aria-label=\"Basic example\">\n                <div>\n                    <button className=\"m-1 btn btn-outline-primary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                        <i className=\"fa fa-object-group p-1\"></i>\n                        LOC-I/Stall Class\n                    </button>\n                    <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                    {\n                        lociAnnotationNames.map((name, index) => {\n                            return (\n                                <button key={index} className=\"dropdown-item\" type=\"button\" onClick={() => this.setEventAnnotation(name, event.id)}>{name}</button>\n                            );\n                        })\n                    }\n                    </div>\n                </div>\n\n                {log}\n\n                <OverlayTrigger trigger=\"click\" placement=\"right-end\" overlay={additionalNotesPopover}>\n                    <Button id={event.id + '-comment-button'} className=\"m-1\" variant=\"outline-info\" title=\"Click to comment this annotation\" disabled={disableComments}>\n                        <i className=\"fa fa-commenting\" aria-hidden=\"true\"></i>\n                    </Button>\n                </OverlayTrigger>\n            </div>\n        \n        );\n    }\n}\n\nexport { EventAnnotation };\n"],"mappings":"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"}]}